<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Taş Kağıt Makas Turnuvası</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: url('background.webp') no-repeat center center fixed;
      background-size: cover;
      color: #ffffff;
    }

    .container {
      text-align: center;
      padding: 50px;
    }

    .reward {
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .progress-bar {
      position: relative;
      width: 80%;
      height: 30px;
      background-color: #555;
      margin: 20px auto;
      border-radius: 15px;
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      background-color: #4caf50;
      width: 0%;
      transition: width 0.5s ease;
    }

    .progress-bar-text {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translate(-50%, 0);
      color: #ffffff;
      font-weight: bold;
      line-height: 30px;
    }

    .description {
      font-size: 18px;
      margin: 20px 0;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 15px;
      border-radius: 10px;
      line-height: 1.6;
    }

    .buttons {
      margin-top: 20px;
    }

    .button {
      padding: 10px 20px;
      margin: 5px;
      font-size: 16px;
      font-weight: bold;
      color: #ffffff;
      background-color: #007bff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .button:hover {
      background-color: #0056b3;
    }

    .form-container {
      display: none;
      margin-top: 20px;
      text-align: left;
      padding: 20px;
      background-color: rgba(0, 0, 0, 0.7);
      border-radius: 8px;
      width: 50%;
      margin: 0 auto;
    }

    .form-container input {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
      background-color: #fff;
    }

    .form-container button {
      background-color: #28a745;
    }

    .message-container {
      display: none;
      margin-top: 20px;
      padding: 20px;
      background-color: rgba(0, 0, 0, 0.7);
      border-radius: 8px;
      width: 50%;
      margin: 0 auto;
      color: #ffffff;
      font-size: 18px;
      text-align: center;
    }

    .wallet-info {
      margin-top: 20px;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 20px;
      border-radius: 8px;
      width: 50%;
      margin: 20px auto;
      color: #ffffff;
      text-align: center;
    }

    .wallet-info b {
      font-size: 20px;
    }

    /* Katılım Şartları */
    .terms {
      background-color: rgba(0, 0, 0, 0.7);
      padding: 20px;
      color: #ffffff;
      font-size: 14px;
      margin-top: 20px;
      border-radius: 8px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="reward">ÖDÜL: 1 BNB</div>
    <div class="title">Taş Kağıt Makas Turnuvası</div>
    <div class="progress-bar">
      <div class="progress-bar-fill" id="progressBar"></div>
      <div class="progress-bar-text" id="progressText">%0</div>
    </div>
    <div class="description">
      Klasik bildiğiniz taş kağıt makas oyununu oynamaya hazır mısınız?<br>
      Katılım sadece <b>0,0040 BNB</b>. Kazanmanız durumunda <b>x500 ödül</b> kazanabilirsiniz.<br>
      Kaybedecek bir şeyiniz yok. Ama eğer kazanırsanız :)<br><br>
      Ready to play the classic Rock-Paper-Scissors game?<br>
      Entry fee is only <b>0,0040 BNB</b>. If you win, you can earn <b>x500 reward</b>.<br>
      You have nothing to lose. But if you win :).
    </div>
    <div class="buttons">
      <button class="button join-now" onclick="joinNow()">Join Now</button>
    </div>

    <!-- Katılım Formu -->
    <div class="form-container" id="formContainer">
      <h3>Katılım Bilgilerinizi Girin</h3>
      <form id="userForm">
        <input type="text" id="name" placeholder="İsim" required><br>
        <input type="text" id="surname" placeholder="Soyisim" required><br>
        <input type="email" id="email" placeholder="E-posta" required><br>
        <button type="submit" class="button">Katılımı Tamamla</button>
      </form>
    </div>

    <!-- Ödeme Yönlendirme ve Cüzdan Bilgileri -->
    <div class="wallet-info" id="walletInfo">
      <p><b>Cüzdan Adresi:</b> 0x7430287804Fd98886f227Ab2192192A921e12c87</p>
      <p><b>Minimum Ödeme:</b> 0,0040 BNB</p>
      <p>Ödemenizi bu adrese yapmanızı rica ederiz.</p>
      <p>Ödeme işleminizi tamamladıktan sonra katılımınız onaylanacaktır.</p>
    </div>

    <!-- Katılım Mesajı -->
    <div class="message-container" id="messageContainer">
      Yeterli katılımcı sayısı bekleniyor.
    </div>

    <!-- Katılım Şartları -->
    <div class="terms">
      <p><b>Katılım Şartları:</b></p>
      <p>
        Bu turnuvaya katılan tüm katılımcılar, organizatörün belirlediği kuralları ve şartları kabul etmiş sayılır. 
        Organizasyonun herhangi bir aksaklık durumunda, ödemeler geri iade edilecektir. 
        Ayrıca, organizatör, herhangi bir zamanda kurallarda değişiklik yapma hakkına sahiptir. 
        Katılımcıların tüm bilgileri doğru ve eksiksiz olmalıdır.
      </p>
    </div>
  </div>

  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    emailjs.init("TzYIZVogtgRr4syCN");

    function joinNow() {
      // Katılım formunu göster
      document.getElementById("formContainer").style.display = "block";
      document.getElementById("walletInfo").style.display = "block"; // Cüzdan bilgilerini göster
    }

    // Formu gönderdiğinde bilgileri al ve göster
    document.getElementById("userForm").addEventListener("submit", function(e) {
      e.preventDefault(); // Formun normal şekilde gönderilmesini engeller

      const name = document.getElementById("name").value;
      const surname = document.getElementById("surname").value;
      const email = document.getElementById("email").value;

      // Katılım tamamlandı mesajı
      alert(`Katılım Başarıyla Tamamlandı!\nAd: ${name}\nSoyad: ${surname}\nE-posta: ${email}`);

      // Ödeme kontrolü mesajını göster
      document.getElementById("messageContainer").style.display = "block";

      // İlerleme çubuğunu güncelle
      document.getElementById("progressText").innerText = "%0"; // Yeterli katılımcı bekleniyor

      // Formu sıfırla ve gizle
      document.getElementById("userForm").reset();
      document.getElementById("formContainer").style.display = "none";

      // EmailJS ile e-posta gönderimi
      emailjs.send("service_we8ffsa", "template_48vl8mm", {
        name: name,
        surname: surname,
        email: email
      })
      .then(function(response) {
        console.log('E-posta başarıyla gönderildi:', response);
      }, function(error) {
        console.log('E-posta gönderimi başarısız:', error);
      });
    });
  </script>
</body>
</html>
